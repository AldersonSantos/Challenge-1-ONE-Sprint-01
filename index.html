<!DOCTYPE html>
<html>
    <head>
       
        <meta charset="UTF-8">
        <title>Codificador de Texto</title>
        <link rel="stylesheet" href="reset.css">
        <link rel="stylesheet" href="style-index.css">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Bruno+Ace+SC&display=swap" rel="stylesheet">
        
    </head>

    <body>

        <header>

            <div class="logo">

                <h1><img src="logo_header.png" alt="Logo codificador de texto"class="Imagem-header" ></h1>

            </div>

        </header>

        <main>
            
            <form>
                
                <fieldset class="text-area">

                    <label for="texto-usuario">Use somente letra minúscula</label>
                    <textarea cols="60" rows="6" id="texto-usuario" onkeyup="textoUsuario()" placeholder="Digite o texto que deseja criptocrafar ou descriptografar"></textarea> 
                    <label for="texto-critografado">Decodificador de texto</label>
                    <textarea name="recebertexto" id="texto-critografado" cols="60" rows="6" placeholder="Texto criptografado ou descriptografado aparecerá aqui" ></textarea>
                                     
                </fieldset> 
                
                <fieldset class="buttons">

                    <input type="button" onclick="criptocrafarTexto()" value="Criptografar"> 
                    <input type="button" onclick="descriptografarTexto()" value="Descriptografar"> 
                    <input type="button" onclick="copiarTexto()" value="Copiar">                   

                </fieldset>                                                       
               
            </form>   

            <script>

                function textoUsuario(){

                    var textArea = document.getElementById("texto-usuario");
                    var textoUsuario = textArea.value;                
                                                                               
                }

                function descriptografarTexto(){ 

                    let textocriptografado = document.getElementById("texto-critografado").value;                    
                 
                    if(textocriptografado.length <= 0){

                        let textocriptografado = document.getElementById("texto-usuario").value;
                        let textoDescriptografado = textocriptografado.replace(/ufat/g,"u").replace(/ober/g,'o').replace(/ai/g,"a")
                        .replace(/imes/g,'i').replace(/enter/g, "e");

                        document.getElementById("texto-critografado").value = textoDescriptografado;
                       
                    }else{
                        
                        let textocriptografado = document.getElementById("texto-critografado").value;
                        let textoDescriptografado = textocriptografado.replace(/ufat/g,"u").replace(/ober/g,'o').replace(/ai/g,"a")
                        .replace(/imes/g,'i').replace(/enter/g, "e");

                        document.getElementById("texto-critografado").value = textoDescriptografado; 
                    }                     
                                           
                }             

                function criptocrafarTexto(){                   
                                        
                    let textoUsuario = document.getElementById("texto-usuario").value; 
                    let textoCritografado = textoUsuario.replace(/e/g,"enter").replace(/i/g,'imes').replace(/a/g,"ai")
                    .replace(/o/g,'ober').replace(/u/g, "ufat");
                    
                    document.getElementById("texto-critografado").value = textoCritografado;     
                                                                                                                                          
                }

                function copiarTexto(){

                    var textoCritografado = document.getElementById("texto-critografado");
                    textoCritografado.select();
                    document.execCommand("copy");
                }                                
                                                                         
            </script> 

        </main>

        <footer>

            <img src="imagem_rotape.svg" class="imagem-footer" alt="Imagem do rodapé">
            <p>ONE-Oracle Next Education T5 2023 : Alderson Santos</p>

        </footer>

    </body>

</html>